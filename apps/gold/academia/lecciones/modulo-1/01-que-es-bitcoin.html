<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>¿Qué es Bitcoin? - YavlGold Academia</title>
  <meta name="description" content="Aprende los fundamentos de Bitcoin: historia, tecnología y por qué es revolucionario">
  
  <!-- Favicon -->
  <link rel="icon" href="/assets/images/logo.png" type="image/png">
  <meta name="theme-color" content="#0B0C0F">
  
  <!-- Estilos y fuentes -->
  <link rel="stylesheet" href="/assets/css/unificacion.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Supabase Client Library -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <style>
    body {
      background: var(--bg-darker);
      color: var(--text-light);
      line-height: 1.8;
      padding-top: 80px;
    }
    
    .lesson-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    /* Breadcrumb Navigation */
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 30px;
      font-size: 0.9rem;
      color: var(--text-muted);
    }
    
    .breadcrumb a {
      color: var(--color-secondary);
      text-decoration: none;
      transition: var(--transition);
    }
    
    .breadcrumb a:hover {
      opacity: 0.8;
    }
    
    /* Lesson Header */
    .lesson-header {
      background: linear-gradient(135deg, rgba(200, 167, 82, 0.1), transparent);
      border: 2px solid rgba(200, 167, 82, 0.3);
      border-radius: 16px;
      padding: 40px;
      margin-bottom: 40px;
    }
    
    .lesson-meta {
      display: flex;
      gap: 25px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .meta-item {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-muted);
      font-size: 0.95rem;
    }
    
    .meta-item i {
      color: var(--color-secondary);
    }
    
    .lesson-title {
      font-size: 2.5rem;
      margin: 20px 0 15px;
      color: var(--color-secondary);
      font-family: 'Playfair Display', serif;
    }
    
    .lesson-description {
      font-size: 1.1rem;
      color: var(--text-muted);
      line-height: 1.6;
    }
    
    /* Video Container */
    .video-container {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
      border-radius: 12px;
      margin-bottom: 40px;
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    /* Content Section */
    .content-section {
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 40px;
      margin-bottom: 40px;
    }
    
    .content-section h2 {
      color: var(--color-secondary);
      font-size: 1.8rem;
      margin-bottom: 20px;
      font-family: 'Playfair Display', serif;
    }
    
    .content-section h3 {
      color: var(--text-light);
      font-size: 1.4rem;
      margin: 30px 0 15px;
    }
    
    .content-section p {
      margin-bottom: 20px;
      line-height: 1.8;
    }
    
    .content-section ul {
      margin: 20px 0;
      padding-left: 25px;
    }
    
    .content-section li {
      margin-bottom: 10px;
    }
    
    .highlight-box {
      background: rgba(200, 167, 82, 0.1);
      border-left: 4px solid var(--color-secondary);
      padding: 20px;
      margin: 25px 0;
      border-radius: 8px;
    }
    
    .highlight-box strong {
      color: var(--color-secondary);
    }
    
    /* Quiz Section */
    .quiz-section {
      background: linear-gradient(135deg, rgba(200, 167, 82, 0.05), var(--card-bg));
      border: 2px solid rgba(200, 167, 82, 0.3);
      border-radius: 16px;
      padding: 40px;
      margin-bottom: 40px;
    }
    
    .quiz-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .quiz-header h2 {
      color: var(--color-secondary);
      font-size: 2rem;
      margin-bottom: 10px;
    }
    
    .quiz-header p {
      color: var(--text-muted);
    }
    
    .question-card {
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
    }
    
    .question-number {
      color: var(--color-secondary);
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .question-text {
      font-size: 1.1rem;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .option {
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 15px 20px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .option:hover {
      border-color: var(--color-secondary);
      background: rgba(200, 167, 82, 0.1);
    }
    
    .option input[type="radio"] {
      cursor: pointer;
    }
    
    .option.correct {
      border-color: #4CAF50;
      background: rgba(76, 175, 80, 0.1);
    }
    
    .option.incorrect {
      border-color: #ff6b6b;
      background: rgba(255, 107, 107, 0.1);
    }
    
    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    
    .btn-primary {
      background: var(--gradient-gold);
      color: var(--bg-darker);
      padding: 15px 40px;
      border-radius: 8px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-size: 1.05rem;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(200, 167, 82, 0.4);
    }
    
    .btn-secondary {
      background: transparent;
      color: var(--color-secondary);
      padding: 15px 40px;
      border-radius: 8px;
      border: 2px solid var(--color-secondary);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-size: 1.05rem;
      text-decoration: none;
    }
    
    .btn-secondary:hover {
      background: rgba(200, 167, 82, 0.1);
      transform: translateY(-3px);
    }
    
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* Quiz Results */
    .quiz-results {
      display: none;
      text-align: center;
      padding: 30px;
      background: var(--card-bg);
      border-radius: 12px;
      margin-top: 30px;
    }
    
    .quiz-results.show {
      display: block;
    }
    
    .result-icon {
      font-size: 5rem;
      margin-bottom: 20px;
    }
    
    .result-score {
      font-size: 3rem;
      font-weight: 700;
      color: var(--color-secondary);
      margin-bottom: 15px;
    }
    
    .result-message {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    
    .xp-earned {
      display: inline-block;
      background: var(--gradient-gold);
      color: var(--bg-darker);
      padding: 10px 25px;
      border-radius: 20px;
      font-weight: 600;
      margin-top: 15px;
    }
    
    /* Progress Indicator */
    .lesson-progress {
      position: fixed;
      top: 80px;
      right: 20px;
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      width: 250px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    
    .progress-title {
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--color-secondary);
    }
    
    .progress-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      font-size: 0.9rem;
    }
    
    .progress-item i {
      color: var(--text-muted);
      width: 20px;
    }
    
    .progress-item.completed i {
      color: #4CAF50;
    }
    
    @media (max-width: 768px) {
      .lesson-title {
        font-size: 2rem;
      }
      
      .lesson-header {
        padding: 25px;
      }
      
      .content-section {
        padding: 25px;
      }
      
      .quiz-section {
        padding: 25px;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .btn-primary, .btn-secondary {
        width: 100%;
        justify-content: center;
      }
      
      .lesson-progress {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="gg-header">
    <a class="brand" href="/">
      <i class="fa-solid fa-coins"></i>
      <span class="brand-name">Yavl<span class="brand-highlight">Gold</span></span>
    </a>
    <nav class="main-nav">
      <a href="/#comunidad">Comunidad</a>
      <a href="/academia/">Academia</a>
      <a href="/herramientas/" data-protected="true">Herramientas</a>
      <a href="/#planes">Planes</a>
      <a href="/go/whatsapp.html">Contacto</a>
    </nav>
    <div class="auth-section" id="auth-section">
      <div class="auth-buttons" id="auth-buttons">
        <a href="/dashboard/" data-protected="true" class="btn-login">Dashboard</a>
      </div>
    </div>
  </header>

  <div class="lesson-container">
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <a href="/"><i class="fas fa-home"></i> Inicio</a>
      <i class="fas fa-chevron-right"></i>
      <a href="/academia/">Academia</a>
      <i class="fas fa-chevron-right"></i>
      <a href="/academia/#modulo-1">Módulo 1: Bitcoin</a>
      <i class="fas fa-chevron-right"></i>
      <span>Lección 1</span>
    </nav>

    <!-- Lesson Header -->
    <div class="lesson-header">
      <div class="lesson-meta">
        <div class="meta-item">
          <i class="fas fa-layer-group"></i>
          <span>Módulo 1: Fundamentos de Bitcoin</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-list-ol"></i>
          <span>Lección 1 de 5</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-clock"></i>
          <span>15 minutos</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-star"></i>
          <span>+10 XP</span>
        </div>
      </div>
      
      <h1 class="lesson-title">¿Qué es Bitcoin?</h1>
      <p class="lesson-description">
        Descubre el origen de Bitcoin, cómo funciona y por qué está cambiando el mundo financiero. 
        Aprenderás los conceptos básicos que necesitas para entender las criptomonedas.
      </p>
    </div>

    <!-- Video -->
    <div class="video-container">
      <iframe 
        src="https://www.youtube.com/embed/Gc2en3nHxA4" 
        title="¿Qué es Bitcoin?"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>

    <!-- Content -->
    <div class="content-section">
      <h2>📖 Contenido de la Lección</h2>
      
      <h3>¿Qué es Bitcoin?</h3>
      <p>
        Bitcoin es la primera <strong>criptomoneda descentralizada</strong> del mundo, creada en 2009 por 
        una persona (o grupo) bajo el seudónimo de <strong>Satoshi Nakamoto</strong>. A diferencia del dinero 
        tradicional controlado por gobiernos y bancos, Bitcoin funciona en una red peer-to-peer sin autoridad central.
      </p>

      <div class="highlight-box">
        <strong>💡 Punto Clave:</strong> Bitcoin permite transferir valor de persona a persona sin 
        intermediarios, de forma rápida, segura y global.
      </div>

      <h3>Historia de Bitcoin</h3>
      <p>
        El 31 de octubre de 2008, Satoshi Nakamoto publicó el <em>whitepaper</em> de Bitcoin: 
        "Bitcoin: A Peer-to-Peer Electronic Cash System". El 3 de enero de 2009, se minó el primer bloque 
        (bloque génesis), marcando el nacimiento de la red Bitcoin.
      </p>

      <ul>
        <li><strong>2009:</strong> Nace Bitcoin, primera transacción</li>
        <li><strong>2010:</strong> Primera compra real: 2 pizzas por 10,000 BTC</li>
        <li><strong>2011:</strong> Llega a $1 USD por primera vez</li>
        <li><strong>2017:</strong> Bull run, alcanza $20,000 USD</li>
        <li><strong>2021:</strong> Nuevo ATH (All-Time High) en $69,000 USD</li>
        <li><strong>2024-2025:</strong> Adopción institucional masiva</li>
      </ul>

      <h3>¿Por qué es Revolucionario?</h3>
      <p>Bitcoin introduce tres innovaciones fundamentales:</p>

      <ul>
        <li><strong>Descentralización:</strong> No depende de gobiernos ni bancos</li>
        <li><strong>Escasez digital:</strong> Solo existirán 21 millones de bitcoins</li>
        <li><strong>Transparencia:</strong> Todas las transacciones son públicas y verificables</li>
        <li><strong>Seguridad:</strong> Protegido por criptografía avanzada</li>
        <li><strong>Accesibilidad:</strong> Cualquiera con internet puede usarlo</li>
      </ul>

      <div class="highlight-box">
        <strong>🔒 Seguridad:</strong> En más de 15 años, la red Bitcoin nunca ha sido hackeada. 
        Es uno de los sistemas más seguros jamás creados.
      </div>

      <h3>¿Cómo Funciona (Simplificado)?</h3>
      <p>
        Bitcoin utiliza una tecnología llamada <strong>blockchain</strong> (cadena de bloques) que 
        actúa como un libro contable público y permanente. Cada transacción se registra en un "bloque" 
        que se añade a la cadena, verificado por miles de computadoras (nodos) en todo el mundo.
      </p>

      <p>
        Los <strong>mineros</strong> son quienes validan las transacciones usando poder computacional, 
        y como recompensa reciben nuevos bitcoins. Este proceso se llama "minería" y es lo que 
        mantiene la red segura y descentralizada.
      </p>

      <h3>¿Para qué se Usa Bitcoin?</h3>
      <ul>
        <li><strong>Reserva de valor:</strong> Como "oro digital", protección contra inflación</li>
        <li><strong>Pagos globales:</strong> Enviar dinero a cualquier parte del mundo en minutos</li>
        <li><strong>Inversión:</strong> Activo con potencial de apreciación a largo plazo</li>
        <li><strong>Soberanía financiera:</strong> Ser tu propio banco, sin intermediarios</li>
      </ul>
    </div>

    <!-- Quiz -->
    <div class="quiz-section" id="quiz-section">
      <div class="quiz-header">
        <h2><i class="fas fa-brain"></i> Quiz de la Lección</h2>
        <p>Responde correctamente al menos 4 de 5 preguntas (80%) para completar la lección</p>
      </div>

      <form id="quiz-form">
        <!-- Pregunta 1 -->
        <div class="question-card">
          <div class="question-number">Pregunta 1/5</div>
          <div class="question-text">¿Quién creó Bitcoin?</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q1" value="a">
              <span>Elon Musk</span>
            </label>
            <label class="option">
              <input type="radio" name="q1" value="b">
              <span>Satoshi Nakamoto</span>
            </label>
            <label class="option">
              <input type="radio" name="q1" value="c">
              <span>Vitalik Buterin</span>
            </label>
            <label class="option">
              <input type="radio" name="q1" value="d">
              <span>Bill Gates</span>
            </label>
          </div>
        </div>

        <!-- Pregunta 2 -->
        <div class="question-card">
          <div class="question-number">Pregunta 2/5</div>
          <div class="question-text">¿Cuántos bitcoins existirán en total?</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q2" value="a">
              <span>Infinitos</span>
            </label>
            <label class="option">
              <input type="radio" name="q2" value="b">
              <span>10 millones</span>
            </label>
            <label class="option">
              <input type="radio" name="q2" value="c">
              <span>21 millones</span>
            </label>
            <label class="option">
              <input type="radio" name="q2" value="d">
              <span>100 millones</span>
            </label>
          </div>
        </div>

        <!-- Pregunta 3 -->
        <div class="question-card">
          <div class="question-number">Pregunta 3/5</div>
          <div class="question-text">¿Qué tecnología utiliza Bitcoin para registrar transacciones?</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q3" value="a">
              <span>Inteligencia Artificial</span>
            </label>
            <label class="option">
              <input type="radio" name="q3" value="b">
              <span>Blockchain (Cadena de bloques)</span>
            </label>
            <label class="option">
              <input type="radio" name="q3" value="c">
              <span>Cloud Computing</span>
            </label>
            <label class="option">
              <input type="radio" name="q3" value="d">
              <span>Bases de datos SQL</span>
            </label>
          </div>
        </div>

        <!-- Pregunta 4 -->
        <div class="question-card">
          <div class="question-number">Pregunta 4/5</div>
          <div class="question-text">¿En qué año se creó Bitcoin?</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q4" value="a">
              <span>2005</span>
            </label>
            <label class="option">
              <input type="radio" name="q4" value="b">
              <span>2009</span>
            </label>
            <label class="option">
              <input type="radio" name="q4" value="c">
              <span>2015</span>
            </label>
            <label class="option">
              <input type="radio" name="q4" value="d">
              <span>2020</span>
            </label>
          </div>
        </div>

        <!-- Pregunta 5 -->
        <div class="question-card">
          <div class="question-number">Pregunta 5/5</div>
          <div class="question-text">¿Cuál es una ventaja principal de Bitcoin?</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q5" value="a">
              <span>Es controlado por el gobierno</span>
            </label>
            <label class="option">
              <input type="radio" name="q5" value="b">
              <span>Descentralización y no depende de bancos</span>
            </label>
            <label class="option">
              <input type="radio" name="q5" value="c">
              <span>Se puede imprimir más dinero cuando se necesite</span>
            </label>
            <label class="option">
              <input type="radio" name="q5" value="d">
              <span>Solo funciona en Estados Unidos</span>
            </label>
          </div>
        </div>

        <div class="action-buttons">
          <button type="submit" class="btn-primary">
            <i class="fas fa-check-circle"></i> Enviar Respuestas
          </button>
        </div>
      </form>

      <!-- Quiz Results -->
      <div class="quiz-results" id="quiz-results">
        <div class="result-icon" id="result-icon">🎉</div>
        <div class="result-score" id="result-score">0/5</div>
        <div class="result-message" id="result-message"></div>
        <div class="xp-earned" id="xp-earned" style="display: none;">
          <i class="fas fa-star"></i> +10 XP Ganados
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn-primary" id="complete-lesson-btn" style="display: none;">
        <i class="fas fa-check-double"></i> Marcar Lección como Completada
      </button>
      <a href="/academia/#modulo-1" class="btn-secondary">
        <i class="fas fa-arrow-left"></i> Volver al Módulo
      </a>
      <a href="/academia/lecciones/modulo-1/02-blockchain-explicado.html" class="btn-secondary" style="display: none;" id="next-lesson-btn">
        Siguiente Lección <i class="fas fa-arrow-right"></i>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="gg-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>YavlGold</h3>
        <p>Tu plataforma de inversión en oro digital</p>
      </div>
      <div class="footer-section">
        <h3>Enlaces</h3>
        <a href="/#comunidad">Comunidad</a>
        <a href="/academia/">Academia</a>
        <a href="/herramientas/" data-protected="true">Herramientas</a>
      </div>
      <div class="footer-section">
        <h3>Legal</h3>
        <a href="/legal/terminos.html">Términos</a>
        <a href="/legal/privacidad.html">Privacidad</a>
      </div>
      <div class="footer-section">
        <h3>Síguenos</h3>
        <div class="social-links">
          <a href="https://t.me/yavlgold" target="_blank"><i class="fab fa-telegram"></i></a>
          <a href="https://wa.me/message/your-number" target="_blank"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 YavlGold. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="/assets/js/auth/authClient.js"></script>
  <script src="/assets/js/academia.js"></script>
  
  <script>
    // Quiz correct answers
    const correctAnswers = {
      q1: 'b', // Satoshi Nakamoto
      q2: 'c', // 21 millones
      q3: 'b', // Blockchain
      q4: 'b', // 2009
      q5: 'b'  // Descentralización
    };

    // Quiz form submission
    document.getElementById('quiz-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Calculate score
      let correct = 0;
      const total = 5;
      
      for (let i = 1; i <= total; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        const questionCard = selected?.closest('.question-card');
        
        if (selected && selected.value === correctAnswers[`q${i}`]) {
          correct++;
          // Mark as correct
          selected.closest('.option').classList.add('correct');
        } else if (selected) {
          // Mark as incorrect
          selected.closest('.option').classList.add('incorrect');
          // Highlight correct answer
          const correctOption = questionCard.querySelector(`input[value="${correctAnswers[`q${i}`]}"]`);
          correctOption.closest('.option').classList.add('correct');
        }
      }
      
      // Calculate percentage
      const percentage = Math.round((correct / total) * 100);
      const passed = percentage >= 80;
      
      // Show results
      const resultsDiv = document.getElementById('quiz-results');
      const resultIcon = document.getElementById('result-icon');
      const resultScore = document.getElementById('result-score');
      const resultMessage = document.getElementById('result-message');
      const xpEarned = document.getElementById('xp-earned');
      
      resultScore.textContent = `${correct}/${total}`;
      
      if (passed) {
        resultIcon.textContent = correct === total ? '🏆' : '🎉';
        resultMessage.innerHTML = correct === total 
          ? '<strong>¡Perfecto!</strong> Dominaste esta lección' 
          : '<strong>¡Aprobaste!</strong> Has completado la lección';
        xpEarned.style.display = 'inline-block';
        
        // Show complete lesson button
        document.getElementById('complete-lesson-btn').style.display = 'inline-flex';
        document.getElementById('next-lesson-btn').style.display = 'inline-flex';
        
        // Award XP if user is logged in
        if (window.academiaProgress) {
          try {
            await window.academiaProgress.addXP(correct === total ? 15 : 10, 'Quiz Lección 1');
            if (correct === total) {
              xpEarned.innerHTML = '<i class="fas fa-star"></i> +15 XP Ganados (¡Quiz Perfecto!)';
            }
          } catch (error) {
            console.error('Error awarding XP:', error);
          }
        }
      } else {
        resultIcon.textContent = '😅';
        resultMessage.innerHTML = `<strong>Casi!</strong> Necesitas 80% para aprobar (${correct}/5). <a href="#quiz-section" onclick="location.reload()" style="color: var(--color-secondary)">Intentar de nuevo</a>`;
        xpEarned.style.display = 'none';
      }
      
      resultsDiv.classList.add('show');
      resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
      
      // Disable form
      const submitBtn = e.target.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Quiz Completado';
    });

    // Complete lesson button
    document.getElementById('complete-lesson-btn')?.addEventListener('click', async function() {
      if (!window.academiaProgress) {
        alert('Debes iniciar sesión para guardar tu progreso');
        window.location.href = '/dashboard/';
        return;
      }
      
      try {
        // Mark lesson as complete with real UUID
        this.disabled = true;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Guardando...';
        
        await window.academiaProgress.markLessonComplete('6a0a26c4-d542-4ac1-bf26-ee357042c04d');
        
        this.innerHTML = '<i class="fas fa-check-double"></i> ¡Lección Completada!';
        alert('¡Felicitaciones! Lección completada. +10 XP ganados');
        
        // Show next lesson button
        document.getElementById('next-lesson-btn').style.display = 'inline-flex';
        
      } catch (error) {
        console.error('Error completing lesson:', error);
        alert('Error al completar la lección. Intenta de nuevo.');
        this.disabled = false;
        this.innerHTML = '<i class="fas fa-check-double"></i> Marcar Lección como Completada';
      }
    });
  </script>
</body>
</html>
